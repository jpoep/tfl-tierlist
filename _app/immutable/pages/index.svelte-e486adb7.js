import{V as me,S as ne,i as se,s as oe,l as k,r as M,a as A,m as y,n as T,u as U,h,c as C,p as m,a7 as fe,b as S,I as v,v as q,E as X,L as j,a8 as ae,K as ie,_ as Ee,a9 as _e,H as de,G as pe,$ as Qe,aa as ue,W as F,f as V,g as $,t as O,d as H,M as re,D as rt,e as z,w as J,x as Z,y as Q,B as x,X as at,o as xe,ab as et,ac as ct,ad as ft,ae as ut,af as _t,R as tt,ag as dt,ah as we,ai as pt}from"../chunks/index-cd411dc4.js";import{l as le,T as ht,a as mt,c as gt,e as vt,f as Te}from"../chunks/tooltip-0e141dfe.js";import{f as ee}from"../chunks/filter-6bb947a8.js";import{o as bt,I as kt}from"../chunks/sprites-f9e5c6f3.js";import{b as yt}from"../chunks/paths-1c47712a.js";import{w as lt}from"../chunks/index-7be4c444.js";class Et{constructor(e){Object.assign(this,e)}get localName(){return this.name[me(le)]}get localForm(){var e;return(e=this.form)==null?void 0:e[me(le)]}get localNotes(){var e;return(e=this.notes)==null?void 0:e[me(le)]}}function Se(s){let e,n=Y[s[1]][s[2]]+"",t,l;return{c(){e=k("span"),t=M(n),this.h()},l(o){e=y(o,"SPAN",{class:!0});var i=T(e);t=U(i,n),i.forEach(h),this.h()},h(){m(e,"class",l=fe(s[1])+" svelte-1k8dmpb")},m(o,i){S(o,e,i),v(e,t)},p(o,i){i&6&&n!==(n=Y[o[1]][o[2]]+"")&&q(t,n),i&2&&l!==(l=fe(o[1])+" svelte-1k8dmpb")&&m(e,"class",l)},d(o){o&&h(e)}}}function wt(s){let e,n,t=Y[s[0]][s[2]]+"",l,o,i,f=s[1]&&Se(s);return{c(){e=k("div"),n=k("span"),l=M(t),i=A(),f&&f.c(),this.h()},l(r){e=y(r,"DIV",{class:!0});var c=T(e);n=y(c,"SPAN",{class:!0});var a=T(n);l=U(a,t),a.forEach(h),i=C(c),f&&f.l(c),c.forEach(h),this.h()},h(){m(n,"class",o=fe(s[0])+" svelte-1k8dmpb"),m(e,"class","svelte-1k8dmpb")},m(r,c){S(r,e,c),v(e,n),v(n,l),v(e,i),f&&f.m(e,null)},p(r,[c]){c&5&&t!==(t=Y[r[0]][r[2]]+"")&&q(l,t),c&1&&o!==(o=fe(r[0])+" svelte-1k8dmpb")&&m(n,"class",o),r[1]?f?f.p(r,c):(f=Se(r),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i:X,o:X,d(r){r&&h(e),f&&f.d()}}}const Y={normal:{de:"Normal",en:"Normal"},fire:{de:"Feuer",en:"Fire"},water:{de:"Wasser",en:"Water"},electric:{de:"Elektro",en:"Electric"},grass:{de:"Pflanze",en:"Grass"},ice:{de:"Eis",en:"Ice"},fighting:{de:"Kampf",en:"Fighting"},poison:{de:"Gift",en:"Poison"},ground:{de:"Boden",en:"Ground"},flying:{de:"Flug",en:"Flying"},psychic:{de:"Psycho",en:"Psychic"},bug:{de:"K\xE4fer",en:"Bug"},rock:{de:"Gestein",en:"Rock"},ghost:{de:"Geist",en:"Ghost"},dragon:{de:"Drache",en:"Dragon"},dark:{de:"Unlicht",en:"Dark"},steel:{de:"Stahl",en:"Steel"},fairy:{de:"Fee",en:"Fairy"},salt:{de:"Salz",en:"Salt"}};function Tt(s,e,n){let t;j(s,le,i=>n(2,t=i));let{type1:l}=e,{type2:o=null}=e;return s.$$set=i=>{"type1"in i&&n(0,l=i.type1),"type2"in i&&n(1,o=i.type2)},[l,o,t]}class St extends ne{constructor(e){super(),se(this,e,Tt,wt,oe,{type1:0,type2:1})}}function he(s,e){let n;function t(){n=new ht({props:{tooltipProps:e},target:s})}function l(){n.$destroy()}return s.addEventListener("mouseover",t),s.addEventListener("mouseout",l),s.addEventListener("focus",t),s.addEventListener("blur",l),{destroy(){s.removeEventListener("mouseover",t),s.removeEventListener("mouseout",l),s.removeEventListener("focus",t),s.removeEventListener("blur",l)}}}function Ie(s,e,n){const t=s.slice();return t[13]=e[n],t}function Le(s,e,n){const t=s.slice();return t[16]=e[n],t}function Ve(s){let e,n,t,l,o,i=s[3][s[16][0]]+"",f,r,c,a=s[16][1]+"",u;return{c(){e=k("div"),n=k("div"),l=A(),o=k("div"),f=M(i),r=A(),c=k("div"),u=M(a),this.h()},l(_){e=y(_,"DIV",{class:!0});var p=T(e);n=y(p,"DIV",{class:!0,style:!0}),T(n).forEach(h),l=C(p),o=y(p,"DIV",{class:!0});var E=T(o);f=U(E,i),E.forEach(h),r=C(p),c=y(p,"DIV",{class:!0});var R=T(c);u=U(R,a),R.forEach(h),p.forEach(h),this.h()},h(){m(n,"class","stat-bar svelte-naz13o"),m(n,"style",t=s[4](s[16][1])),m(o,"class","stat-label svelte-naz13o"),m(c,"class","stat-number svelte-naz13o"),m(e,"class","stat svelte-naz13o")},m(_,p){S(_,e,p),v(e,n),v(e,l),v(e,o),v(o,f),v(e,r),v(e,c),v(c,u)},p(_,p){p&2&&t!==(t=_[4](_[16][1]))&&m(n,"style",t),p&2&&i!==(i=_[3][_[16][0]]+"")&&q(f,i),p&2&&a!==(a=_[16][1]+"")&&q(u,a)},d(_){_&&h(e)}}}function De(s){let e,n=s[13][s[2]].name+"",t,l,o,i,f;return{c(){e=k("div"),t=M(n),l=A(),this.h()},l(r){e=y(r,"DIV",{class:!0});var c=T(e);t=U(c,n),l=C(c),c.forEach(h),this.h()},h(){m(e,"class","ability svelte-naz13o")},m(r,c){S(r,e,c),v(e,t),v(e,l),i||(f=[ie(e,"click",Ee(s[6])),_e(o=he.call(null,e,{subTitle:s[13][s[2]].description||Ne,width:"20rem"}))],i=!0)},p(r,c){s=r,c&5&&n!==(n=s[13][s[2]].name+"")&&q(t,n),o&&de(o.update)&&c&5&&o.update.call(null,{subTitle:s[13][s[2]].description||Ne,width:"20rem"})},d(r){r&&h(e),i=!1,pe(f)}}}function It(s){let e,n,t,l=s[1],o=[];for(let r=0;r<l.length;r+=1)o[r]=Ve(Le(s,l,r));let i=s[0],f=[];for(let r=0;r<i.length;r+=1)f[r]=De(Ie(s,i,r));return{c(){e=k("div");for(let r=0;r<o.length;r+=1)o[r].c();n=A(),t=k("div");for(let r=0;r<f.length;r+=1)f[r].c();this.h()},l(r){e=y(r,"DIV",{class:!0});var c=T(e);for(let u=0;u<o.length;u+=1)o[u].l(c);n=C(c),t=y(c,"DIV",{class:!0});var a=T(t);for(let u=0;u<f.length;u+=1)f[u].l(a);a.forEach(h),c.forEach(h),this.h()},h(){m(t,"class","abilities svelte-naz13o"),m(e,"class","details")},m(r,c){S(r,e,c);for(let a=0;a<o.length;a+=1)o[a].m(e,null);v(e,n),v(e,t);for(let a=0;a<f.length;a+=1)f[a].m(t,null)},p(r,[c]){if(c&26){l=r[1];let a;for(a=0;a<l.length;a+=1){const u=Le(r,l,a);o[a]?o[a].p(u,c):(o[a]=Ve(u),o[a].c(),o[a].m(e,n))}for(;a<o.length;a+=1)o[a].d(1);o.length=l.length}if(c&5){i=r[0];let a;for(a=0;a<i.length;a+=1){const u=Ie(r,i,a);f[a]?f[a].p(u,c):(f[a]=De(u),f[a].c(),f[a].m(t,null))}for(;a<f.length;a+=1)f[a].d(1);f.length=i.length}},i:X,o:X,d(r){r&&h(e),ae(o,r),ae(f,r)}}}const Ne="PokeAPI g\xF6nnt nicht. Beschwert euch bei denen.",Lt=200;function nt(s){return s/Lt*100}function Vt(s){return Math.max(0,100-nt(s))}function Dt(s,e,n){let t,l,o;j(s,le,d=>n(2,o=d));let{stats:i}=e,{abilities:f}=e;const r={hp:"HP",atk:"Atk",def:"Def",spatk:"SpA",spdef:"SpD",spd:"Spe"},c=[245,83,83],a=[20,195,142],u=[254,177,57],_=[48,170,221];function p(d){const b=nt(d);return`right: ${Vt(d)}%;
				background-color: ${E(b)};
				`}function E(d){const b=Object.keys(l),g=Math.min(b.length-2,b.reduce((ce,it)=>ce+(d>=parseInt(it)?1:0),-1)),P=parseInt(b[g]),N=parseInt(b[g+1])-P,D=100/N,L=(d-P)*D/100,w=Object.values(l)[g],I=Object.values(l)[g+1],W=w[0]*(1-L)+I[0]*L,G=w[1]*(1-L)+I[1]*L,K=w[2]*(1-L)+I[2]*L;return`rgb(${W}, ${G}, ${K})`}function R(d){Qe.call(this,s,d)}return s.$$set=d=>{"stats"in d&&n(5,i=d.stats),"abilities"in d&&n(0,f=d.abilities)},s.$$.update=()=>{s.$$.dirty&32&&n(1,t=Object.entries(i))},l={0:c,20:c,30:u,60:a,100:_},[f,t,o,r,p,i,R]}class Nt extends ne{constructor(e){super(),se(this,e,Dt,It,oe,{stats:5,abilities:0})}}function Ot(s){return{...s,logo:{avif:s.logo+".avif",webp:s.logo+".webp"}}}const Rt="wss://tfl-draft-server.herokuapp.com",At={VITE_DRAFT_SERVER_URL:"",VITE_SVELTEKIT_APP_VERSION:"1669068637224",VITE_SVELTEKIT_APP_VERSION_FILE:"_app/version.json",VITE_SVELTEKIT_APP_VERSION_POLL_INTERVAL:"0",BASE_URL:"/_app/",MODE:"production",DEV:!1,PROD:!0}.VITE_IS_DRAFT_SERVER_ACTIVE||!1,ve=lt([]),Ct=s=>{const e=JSON.parse(s.data);switch(e.messageType){case"teamsUpdate":{console.log("Whole teams update received"),ve.update(()=>e.data.map(n=>Ot(n))),ke.update(()=>null);break}case"singlePokemon":{console.log("Single pokemon Update received: ",e.data.pokemon),ve.update(n=>{const t=n.find(l=>{var o,i;return l.name.toLowerCase()===((o=e.data.name)==null?void 0:o.toLowerCase())||l.player.toLowerCase()===((i=e.data.player)==null?void 0:i.toLowerCase())});return t?(t==null||t.pokemon.push(e.data.pokemon),[...n.filter(l=>l.name!==(t==null?void 0:t.name)),t]):n}),ke.update(()=>e.data.pokemon);break}}};let te;const be=()=>{(!te||te.readyState===te.CLOSED)&&(console.log("(Re-)initializing WebSocket connection"),te=new WebSocket(Rt),te.onmessage=Ct,te.onclose=()=>{console.log("Socket closed; re-opening"),be()})};if(At){be();const s=()=>be;document.removeEventListener("focus",s),document.addEventListener("focus",s)}const ke=lt();function Oe(s){let e,n,t=s[0].team&&Re(s),l=s[0].notes&&Ae(s);return{c(){t&&t.c(),e=A(),l&&l.c(),n=z()},l(o){t&&t.l(o),e=C(o),l&&l.l(o),n=z()},m(o,i){t&&t.m(o,i),S(o,e,i),l&&l.m(o,i),S(o,n,i)},p(o,i){o[0].team?t?t.p(o,i):(t=Re(o),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null),o[0].notes?l?l.p(o,i):(l=Ae(o),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},d(o){t&&t.d(o),o&&h(e),l&&l.d(o),o&&h(n)}}}function Re(s){let e,n,t,l,o,i,f,r,c,a,u,_,p,E,R;return{c(){e=k("div"),n=k("div"),t=k("picture"),l=k("source"),i=A(),f=k("source"),c=A(),a=k("img"),this.h()},l(d){e=y(d,"DIV",{class:!0});var b=T(e);n=y(b,"DIV",{class:!0});var g=T(n);t=y(g,"PICTURE",{class:!0});var P=T(t);l=y(P,"SOURCE",{srcset:!0,type:!0}),i=C(P),f=y(P,"SOURCE",{srcset:!0,type:!0}),c=C(P),a=y(P,"IMG",{src:!0,alt:!0,class:!0}),P.forEach(h),g.forEach(h),b.forEach(h),this.h()},h(){m(l,"srcset",o=s[9](s[0].team.logo.avif)),m(l,"type","image/avif"),m(f,"srcset",r=s[9](s[0].team.logo.webp)),m(f,"type","image/webp"),ue(a.src,u=s[9](s[0].team.logo.webp))||m(a,"src",u),m(a,"alt",_="Logo von "+s[0].team.player),m(a,"class","svelte-104zv83"),m(t,"class","svelte-104zv83"),F(t,"animateTeam",s[5]),m(n,"class","team svelte-104zv83"),m(e,"class","team-wrapper svelte-104zv83")},m(d,b){S(d,e,b),v(e,n),v(n,t),v(t,l),v(t,i),v(t,f),v(t,c),v(t,a),E||(R=[_e(p=he.call(null,n,{title:s[0].team.name,subTitle:s[0].team.player})),ie(n,"click",Ee(s[8]))],E=!0)},p(d,b){b&1&&o!==(o=d[9](d[0].team.logo.avif))&&m(l,"srcset",o),b&1&&r!==(r=d[9](d[0].team.logo.webp))&&m(f,"srcset",r),b&1&&!ue(a.src,u=d[9](d[0].team.logo.webp))&&m(a,"src",u),b&1&&_!==(_="Logo von "+d[0].team.player)&&m(a,"alt",_),b&32&&F(t,"animateTeam",d[5]),p&&de(p.update)&&b&1&&p.update.call(null,{title:d[0].team.name,subTitle:d[0].team.player})},d(d){d&&h(e),E=!1,pe(R)}}}function Ae(s){let e,n,t,l;return{c(){e=k("div"),this.h()},l(o){e=y(o,"DIV",{class:!0}),T(e).forEach(h),this.h()},h(){m(e,"class","note svelte-104zv83")},m(o,i){S(o,e,i),t||(l=[_e(n=he.call(null,e,{backgroundColor:"var(--warning)",smallFontColor:"var(--dark-fg)",subTitle:s[1].localNotes})),ie(e,"click",Ee(s[12]))],t=!0)},p(o,i){n&&de(n.update)&&i&2&&n.update.call(null,{backgroundColor:"var(--warning)",smallFontColor:"var(--dark-fg)",subTitle:o[1].localNotes})},d(o){o&&h(e),t=!1,pe(l)}}}function Ce(s){let e,n,t;return n=new St({props:{type1:s[0].typing[0],type2:s[0].typing[1]}}),{c(){e=k("div"),J(n.$$.fragment),this.h()},l(l){e=y(l,"DIV",{class:!0});var o=T(e);Z(n.$$.fragment,o),o.forEach(h),this.h()},h(){m(e,"class","pokemon-typing"),F(e,"details-layout",s[2])},m(l,o){S(l,e,o),Q(n,e,null),t=!0},p(l,o){const i={};o&1&&(i.type1=l[0].typing[0]),o&1&&(i.type2=l[0].typing[1]),n.$set(i),o&4&&F(e,"details-layout",l[2])},i(l){t||(V(n.$$.fragment,l),t=!0)},o(l){O(n.$$.fragment,l),t=!1},d(l){l&&h(e),x(n)}}}function Pe(s){let e,n,t;return n=new Nt({props:{stats:s[1].baseStats,abilities:s[1].abilities}}),{c(){e=k("div"),J(n.$$.fragment),this.h()},l(l){e=y(l,"DIV",{class:!0});var o=T(e);Z(n.$$.fragment,o),o.forEach(h),this.h()},h(){m(e,"class","pokemon-stats")},m(l,o){S(l,e,o),Q(n,e,null),t=!0},p(l,o){const i={};o&2&&(i.stats=l[1].baseStats),o&2&&(i.abilities=l[1].abilities),n.$set(i)},i(l){t||(V(n.$$.fragment,l),t=!0)},o(l){O(n.$$.fragment,l),t=!1},d(l){l&&h(e),x(n)}}}function Pt(s){let e,n,t,l,o,i,f,r,c,a=s[1].localName+"",u,_,p,E=(s[1].localForm||"")+"",R,d,b,g,P,B,N=!s[2]&&Oe(s),D=!s[2]&&Ce(s),L=s[2]&&Pe(s);return{c(){e=k("div"),N&&N.c(),n=A(),t=k("div"),l=k("img"),f=A(),r=k("div"),c=k("div"),u=M(a),_=A(),p=k("div"),R=M(E),d=A(),D&&D.c(),b=A(),L&&L.c(),this.h()},l(w){e=y(w,"DIV",{class:!0});var I=T(e);N&&N.l(I),n=C(I),t=y(I,"DIV",{class:!0});var W=T(t);l=y(W,"IMG",{src:!0,alt:!0,crossorigin:!0,loading:!0,class:!0}),f=C(W),r=y(W,"DIV",{class:!0});var G=T(r);c=y(G,"DIV",{class:!0});var K=T(c);u=U(K,a),K.forEach(h),_=C(G),p=y(G,"DIV",{class:!0});var ce=T(p);R=U(ce,E),ce.forEach(h),G.forEach(h),W.forEach(h),d=C(I),D&&D.l(I),b=C(I),L&&L.l(I),I.forEach(h),this.h()},h(){ue(l.src,o=s[6])||m(l,"src",o),m(l,"alt",i=s[1].localName),m(l,"crossorigin","anonymous"),m(l,"loading","lazy"),m(l,"class","svelte-104zv83"),F(l,"details-layout",s[2]),F(l,"pixelated",s[2]||!s[4]),m(c,"class","name"),m(p,"class","form secondary svelte-104zv83"),m(r,"class","pokemon-name svelte-104zv83"),F(r,"details-layout",s[2]),m(t,"class","card-content svelte-104zv83"),F(t,"details-layout",s[2]),m(e,"class","pokemon svelte-104zv83")},m(w,I){S(w,e,I),N&&N.m(e,null),v(e,n),v(e,t),v(t,l),v(t,f),v(t,r),v(r,c),v(c,u),v(r,_),v(r,p),v(p,R),v(e,d),D&&D.m(e,null),v(e,b),L&&L.m(e,null),s[13](e),g=!0,P||(B=ie(e,"click",s[7]),P=!0)},p(w,[I]){w[2]?N&&(N.d(1),N=null):N?N.p(w,I):(N=Oe(w),N.c(),N.m(e,n)),(!g||I&64&&!ue(l.src,o=w[6]))&&m(l,"src",o),(!g||I&2&&i!==(i=w[1].localName))&&m(l,"alt",i),I&4&&F(l,"details-layout",w[2]),I&20&&F(l,"pixelated",w[2]||!w[4]),(!g||I&2)&&a!==(a=w[1].localName+"")&&q(u,a),(!g||I&2)&&E!==(E=(w[1].localForm||"")+"")&&q(R,E),I&4&&F(r,"details-layout",w[2]),I&4&&F(t,"details-layout",w[2]),w[2]?D&&($(),O(D,1,1,()=>{D=null}),H()):D?(D.p(w,I),I&4&&V(D,1)):(D=Ce(w),D.c(),V(D,1),D.m(e,b)),w[2]?L?(L.p(w,I),I&4&&V(L,1)):(L=Pe(w),L.c(),V(L,1),L.m(e,null)):L&&($(),O(L,1,1,()=>{L=null}),H())},i(w){g||(V(D),V(L),g=!0)},o(w){O(D),O(L),g=!1},d(w){w&&h(e),N&&N.d(),D&&D.d(),L&&L.d(),s[13](null),P=!1,B()}}}function Ft(s){s==null||s.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}function zt(s,e,n){let t,l,o,i,f;j(s,ee,g=>n(14,l=g)),j(s,ke,g=>n(10,o=g)),j(s,bt,g=>n(4,i=g)),j(s,mt,g=>n(11,f=g));let{pokemon:r}=e,c,a=!1,u,_=!1;const p=()=>n(2,a=!a),E=()=>{var g;window.history.pushState(null,"",new URL(window.location.href)),re(ee,l=((g=c==null?void 0:c.team)==null?void 0:g.name)||"",l)},R=g=>yt+"/logos/"+g;function d(g){Qe.call(this,s,g)}function b(g){at[g?"unshift":"push"](()=>{u=g,n(3,u)})}return s.$$set=g=>{"pokemon"in g&&n(0,r=g.pokemon)},s.$$.update=()=>{if(s.$$.dirty&2048&&n(2,a=f),s.$$.dirty&21&&n(6,t=a?r.miniSpriteUrl:i?r.officialArtworkUrl:r.imageUrl),s.$$.dirty&1&&n(1,c=new Et(r)),s.$$.dirty&1034){const g=o;g&&g===(c==null?void 0:c.id)&&(re(ee,l="",l),rt().then(()=>{var N;n(5,_=!0),Ft(u);const P={Alex:"pokescout",Nils:"ppv",Danny:"dannex",Oli:"oli",Till:"till"},B=(N=c.team)==null?void 0:N.player;if(B){const D=P[B];D&&new Audio(`/sounds/${D}.mp3`).play().catch(console.log)}new Audio("/sounds/sword-thud.mp3").play().catch(console.log)}))}},[r,c,a,u,i,_,t,p,E,R,o,f,d,b]}class st extends ne{constructor(e){super(),se(this,e,zt,Pt,oe,{pokemon:0})}}function Mt(s,{from:e,to:n},t={}){const l=getComputedStyle(s),o=l.transform==="none"?"":l.transform,[i,f]=l.transformOrigin.split(" ").map(parseFloat),r=e.left+e.width*i/n.width-(n.left+i),c=e.top+e.height*f/n.height-(n.top+f),{delay:a=0,duration:u=p=>Math.sqrt(p)*120,easing:_=gt}=t;return{delay:a,duration:de(u)?u(Math.sqrt(r*r+c*c)):u,easing:_,css:(p,E)=>{const R=E*r,d=E*c,b=p+E*e.width/n.width,g=p+E*e.height/n.height;return`transform: ${o} translate(${R}px, ${d}px) scale(${b}, ${g});`}}}function Fe(s,e,n){const t=s.slice();return t[9]=e[n],t}function ze(s,e,n){const t=s.slice();return t[12]=e[n],t}function Me(s,e,n){const t=s.slice();return t[9]=e[n],t}function Ue(s,e,n){const t=s.slice();return t[12]=e[n],t}function ge(s){const e=s.slice(),n=e[4](e[0]);return e[8]=n,e}function je(s){let e,n,t,l,o,i=s[8]&&qe(s);const f=[jt,Ut],r=[];function c(a,u){return a[0].rank===1?0:1}return t=c(s),l=r[t]=f[t](s),{c(){i&&i.c(),e=A(),n=k("div"),l.c(),this.h()},l(a){i&&i.l(a),e=C(a),n=y(a,"DIV",{class:!0});var u=T(n);l.l(u),u.forEach(h),this.h()},h(){m(n,"class","svelte-1ojnhyq")},m(a,u){i&&i.m(a,u),S(a,e,u),S(a,n,u),r[t].m(n,null),o=!0},p(a,u){a[8]?i?i.p(a,u):(i=qe(a),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null);let _=t;t=c(a),t===_?r[t].p(a,u):($(),O(r[_],1,1,()=>{r[_]=null}),H(),l=r[t],l?l.p(a,u):(l=r[t]=f[t](a),l.c()),V(l,1),l.m(n,null))},i(a){o||(V(l),o=!0)},o(a){O(l),o=!1},d(a){i&&i.d(a),a&&h(e),a&&h(n),r[t].d()}}}function qe(s){let e,n=s[8]+"",t;return{c(){e=k("p"),t=M(n),this.h()},l(l){e=y(l,"P",{class:!0});var o=T(e);t=U(o,n),o.forEach(h),this.h()},h(){m(e,"class","tier-subtitle secondary svelte-1ojnhyq")},m(l,o){S(l,e,o),v(e,t)},p(l,o){o&1&&n!==(n=l[8]+"")&&q(t,n)},d(l){l&&h(e)}}}function Ut(s){let e=[],n=new Map,t,l,o,i=s[0].pokemon;const f=c=>c[12].id;for(let c=0;c<i.length;c+=1){let a=ze(s,i,c),u=f(a);n.set(u,e[c]=Be(u,a))}let r=s[2]>0&&We(s);return{c(){for(let c=0;c<e.length;c+=1)e[c].c();t=A(),r&&r.c(),l=z()},l(c){for(let a=0;a<e.length;a+=1)e[a].l(c);t=C(c),r&&r.l(c),l=z()},m(c,a){for(let u=0;u<e.length;u+=1)e[u].m(c,a);S(c,t,a),r&&r.m(c,a),S(c,l,a),o=!0},p(c,a){a&1&&(i=c[0].pokemon,$(),e=et(e,a,f,1,c,i,n,t.parentNode,ut,Be,t,ze),H()),c[2]>0?r?r.p(c,a):(r=We(c),r.c(),r.m(l.parentNode,l)):r&&(r.d(1),r=null)},i(c){if(!o){for(let a=0;a<i.length;a+=1)V(e[a]);o=!0}},o(c){for(let a=0;a<e.length;a+=1)O(e[a]);o=!1},d(c){for(let a=0;a<e.length;a+=1)e[a].d(c);c&&h(t),r&&r.d(c),c&&h(l)}}}function jt(s){let e=[],n=new Map,t,l,o,i=s[0].pokemon;const f=c=>c[12].id;for(let c=0;c<i.length;c+=1){let a=Ue(s,i,c),u=f(a);n.set(u,e[c]=$e(u,a))}let r=s[2]>0&&He(s);return{c(){for(let c=0;c<e.length;c+=1)e[c].c();t=A(),r&&r.c(),l=z()},l(c){for(let a=0;a<e.length;a+=1)e[a].l(c);t=C(c),r&&r.l(c),l=z()},m(c,a){for(let u=0;u<e.length;u+=1)e[u].m(c,a);S(c,t,a),r&&r.m(c,a),S(c,l,a),o=!0},p(c,a){if(a&1){i=c[0].pokemon,$();for(let u=0;u<e.length;u+=1)e[u].r();e=et(e,a,f,1,c,i,n,t.parentNode,_t,$e,t,Ue);for(let u=0;u<e.length;u+=1)e[u].a();H()}c[2]>0?r?r.p(c,a):(r=He(c),r.c(),r.m(l.parentNode,l)):r&&(r.d(1),r=null)},i(c){if(!o){for(let a=0;a<i.length;a+=1)V(e[a]);o=!0}},o(c){for(let a=0;a<e.length;a+=1)O(e[a]);o=!1},d(c){for(let a=0;a<e.length;a+=1)e[a].d(c);c&&h(t),r&&r.d(c),c&&h(l)}}}function Be(s,e){let n,t,l;return t=new st({props:{pokemon:e[12]}}),{key:s,first:null,c(){n=k("div"),J(t.$$.fragment),this.h()},l(o){n=y(o,"DIV",{class:!0});var i=T(n);Z(t.$$.fragment,i),i.forEach(h),this.h()},h(){m(n,"class","pokemon-animation-wrapper svelte-1ojnhyq"),this.first=n},m(o,i){S(o,n,i),Q(t,n,null),l=!0},p(o,i){e=o;const f={};i&1&&(f.pokemon=e[12]),t.$set(f)},i(o){l||(V(t.$$.fragment,o),l=!0)},o(o){O(t.$$.fragment,o),l=!1},d(o){o&&h(n),x(t)}}}function We(s){let e,n=Array(s[2]),t=[];for(let l=0;l<n.length;l+=1)t[l]=Ge(Fe(s,n,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=z()},l(l){for(let o=0;o<t.length;o+=1)t[o].l(l);e=z()},m(l,o){for(let i=0;i<t.length;i+=1)t[i].m(l,o);S(l,e,o)},p(l,o){if(o&4){n=Array(l[2]);let i;for(i=0;i<n.length;i+=1){const f=Fe(l,n,i);t[i]?t[i].p(f,o):(t[i]=Ge(),t[i].c(),t[i].m(e.parentNode,e))}for(;i<t.length;i+=1)t[i].d(1);t.length=n.length}},d(l){ae(t,l),l&&h(e)}}}function Ge(s){let e;return{c(){e=k("div"),this.h()},l(n){e=y(n,"DIV",{class:!0}),T(e).forEach(h),this.h()},h(){m(e,"class","pokemon-animation-wrapper svelte-1ojnhyq")},m(n,t){S(n,e,t)},p:X,d(n){n&&h(e)}}}function $e(s,e){let n,t,l,o=X,i;return t=new st({props:{pokemon:e[12]}}),{key:s,first:null,c(){n=k("div"),J(t.$$.fragment),this.h()},l(f){n=y(f,"DIV",{class:!0});var r=T(n);Z(t.$$.fragment,r),r.forEach(h),this.h()},h(){m(n,"class","pokemon-animation-wrapper svelte-1ojnhyq"),this.first=n},m(f,r){S(f,n,r),Q(t,n,null),i=!0},p(f,r){e=f;const c={};r&1&&(c.pokemon=e[12]),t.$set(c)},r(){l=n.getBoundingClientRect()},f(){ct(n),o()},a(){o(),o=ft(n,l,Mt,{duration:1e3,easing:vt})},i(f){i||(V(t.$$.fragment,f),i=!0)},o(f){O(t.$$.fragment,f),i=!1},d(f){f&&h(n),x(t)}}}function He(s){let e,n=Array(s[2]),t=[];for(let l=0;l<n.length;l+=1)t[l]=Ke(Me(s,n,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=z()},l(l){for(let o=0;o<t.length;o+=1)t[o].l(l);e=z()},m(l,o){for(let i=0;i<t.length;i+=1)t[i].m(l,o);S(l,e,o)},p(l,o){if(o&4){n=Array(l[2]);let i;for(i=0;i<n.length;i+=1){const f=Me(l,n,i);t[i]?t[i].p(f,o):(t[i]=Ke(),t[i].c(),t[i].m(e.parentNode,e))}for(;i<t.length;i+=1)t[i].d(1);t.length=n.length}},d(l){ae(t,l),l&&h(e)}}}function Ke(s){let e;return{c(){e=k("div"),this.h()},l(n){e=y(n,"DIV",{class:!0}),T(e).forEach(h),this.h()},h(){m(e,"class","pokemon-animation-wrapper svelte-1ojnhyq")},m(n,t){S(n,e,t)},p:X,d(n){n&&h(e)}}}function qt(s){let e,n,t=s[0].name+"",l,o,i,f,r,c,a,u=s[0].pokemon.length>0&&je(ge(s));return{c(){e=k("div"),n=k("h2"),l=M(t),o=A(),i=k("span"),f=M(s[3]),c=A(),u&&u.c(),this.h()},l(_){e=y(_,"DIV",{class:!0});var p=T(e);n=y(p,"H2",{id:!0,class:!0});var E=T(n);l=U(E,t),o=C(E),i=y(E,"SPAN",{class:!0});var R=T(i);f=U(R,s[3]),R.forEach(h),E.forEach(h),c=C(p),u&&u.l(p),p.forEach(h),this.h()},h(){m(i,"class","emptyText svelte-1ojnhyq"),m(n,"id",r=s[0].name),m(n,"class","svelte-1ojnhyq"),F(n,"empty",s[1]),m(e,"class","tier svelte-1ojnhyq")},m(_,p){S(_,e,p),v(e,n),v(n,l),v(n,o),v(n,i),v(i,f),v(e,c),u&&u.m(e,null),a=!0},p(_,[p]){(!a||p&1)&&t!==(t=_[0].name+"")&&q(l,t),(!a||p&8)&&q(f,_[3]),(!a||p&1&&r!==(r=_[0].name))&&m(n,"id",r),p&2&&F(n,"empty",_[1]),_[0].pokemon.length>0?u?(u.p(ge(_),p),p&1&&V(u,1)):(u=je(ge(_)),u.c(),V(u,1),u.m(e,null)):u&&($(),O(u,1,1,()=>{u=null}),H())},i(_){a||(V(u),a=!0)},o(_){O(u),a=!1},d(_){_&&h(e),u&&u.d()}}}const Bt=150;function Wt(s,e,n){var u,_;let t,l,o,i,{tier:f}=e;const r=Math.floor(Math.random()*((_=(u=f.subtitles)==null?void 0:u.length)!=null?_:0)),c=p=>{var E;return(E=p.subtitles)==null?void 0:E[r]};let a;return xe(()=>{n(5,a=window.innerWidth),window.addEventListener("resize",()=>{n(5,a=window.innerWidth)})}),s.$$set=p=>{"tier"in p&&n(0,f=p.tier)},s.$$.update=()=>{s.$$.dirty&1&&n(1,t=f.pokemon.length===0),s.$$.dirty&3&&n(3,l=t?f.emptyText:""),s.$$.dirty&32&&n(6,o=Math.floor(a/Bt)),s.$$.dirty&65&&n(2,i=Math.max(o-f.pokemon.length,0))},[f,t,i,l,c,a,o]}class ot extends ne{constructor(e){super(),se(this,e,Wt,qt,oe,{tier:0})}}const Gt={width:24,height:24,body:'<path fill="currentColor" d="m4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8l-8 8z"/>'};const{window:ye}=dt;function Ye(s){let e,n,t,l,o,i;return n=new kt({props:{icon:Gt}}),{c(){e=k("button"),J(n.$$.fragment),this.h()},l(f){e=y(f,"BUTTON",{class:!0});var r=T(e);Z(n.$$.fragment,r),r.forEach(h),this.h()},h(){m(e,"class","scroll-to-top-button svelte-21sr9b")},m(f,r){S(f,e,r),Q(n,e,null),l=!0,o||(i=[ie(e,"click",s[2]),_e(he.call(null,e,{title:"Zur\xFCck nach oben"}))],o=!0)},p:X,i(f){l||(V(n.$$.fragment,f),tt(()=>{t||(t=we(e,Te,{y:100,duration:300},!0)),t.run(1)}),l=!0)},o(f){O(n.$$.fragment,f),t||(t=we(e,Te,{y:100,duration:300},!1)),t.run(0),l=!1},d(f){f&&h(e),x(n),f&&t&&t.end(),o=!1,pe(i)}}}function $t(s){let e=!1,n=()=>{e=!1},t,l,o,i,f;tt(s[3]);let r=s[1]>s[0]&&Ye(s);return{c(){r&&r.c(),l=z()},l(c){r&&r.l(c),l=z()},m(c,a){r&&r.m(c,a),S(c,l,a),o=!0,i||(f=ie(ye,"scroll",()=>{e=!0,clearTimeout(t),t=setTimeout(n,100),s[3]()}),i=!0)},p(c,[a]){a&2&&!e&&(e=!0,clearTimeout(t),scrollTo(ye.pageXOffset,c[1]),t=setTimeout(n,100)),c[1]>c[0]?r?(r.p(c,a),a&3&&V(r,1)):(r=Ye(c),r.c(),V(r,1),r.m(l.parentNode,l)):r&&($(),O(r,1,1,()=>{r=null}),H())},i(c){o||(V(r),o=!0)},o(c){O(r),o=!1},d(c){r&&r.d(c),c&&h(l),i=!1,f()}}}function Ht(s,e,n){let t,{threshold:l=500}=e;const o=()=>{window.scroll({top:0,behavior:"smooth"})};function i(){n(1,t=ye.pageYOffset)}return s.$$set=f=>{"threshold"in f&&n(0,l=f.threshold)},[l,t,o,i]}class Kt extends ne{constructor(e){super(),se(this,e,Ht,$t,oe,{threshold:0})}}const Yt=()=>{const s=pt("__svelte__");return{page:{subscribe:s.page.subscribe},navigating:{subscribe:s.navigating.subscribe},get preloading(){return console.error("stores.preloading is deprecated; use stores.navigating instead"),{subscribe:s.navigating.subscribe}},session:s.session,updated:s.updated}},Xt={subscribe(s){return Yt().page.subscribe(s)}};function Xe(s,e,n){const t=s.slice();return t[13]=e[n],t}function Jt(s){let e,n,t=s[2],l=[];for(let i=0;i<t.length;i+=1)l[i]=Je(Xe(s,t,i));const o=i=>O(l[i],1,1,()=>{l[i]=null});return{c(){for(let i=0;i<l.length;i+=1)l[i].c();e=z()},l(i){for(let f=0;f<l.length;f+=1)l[f].l(i);e=z()},m(i,f){for(let r=0;r<l.length;r+=1)l[r].m(i,f);S(i,e,f),n=!0},p(i,f){if(f&4){t=i[2];let r;for(r=0;r<t.length;r+=1){const c=Xe(i,t,r);l[r]?(l[r].p(c,f),V(l[r],1)):(l[r]=Je(c),l[r].c(),V(l[r],1),l[r].m(e.parentNode,e))}for($(),r=t.length;r<l.length;r+=1)o(r);H()}},i(i){if(!n){for(let f=0;f<t.length;f+=1)V(l[f]);n=!0}},o(i){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)O(l[f]);n=!1},d(i){ae(l,i),i&&h(e)}}}function Zt(s){let e,n;return e=new ot({props:{tier:{name:s[1].name,emptyText:"",rank:1,subtitles:[s[1].player],pokemon:s[0].flatMap(Ze).filter(s[10])}}}),{c(){J(e.$$.fragment)},l(t){Z(e.$$.fragment,t)},m(t,l){Q(e,t,l),n=!0},p(t,l){const o={};l&3&&(o.tier={name:t[1].name,emptyText:"",rank:1,subtitles:[t[1].player],pokemon:t[0].flatMap(Ze).filter(t[10])}),e.$set(o)},i(t){n||(V(e.$$.fragment,t),n=!0)},o(t){O(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Je(s){let e,n;return e=new ot({props:{tier:s[13]}}),{c(){J(e.$$.fragment)},l(t){Z(e.$$.fragment,t)},m(t,l){Q(e,t,l),n=!0},p(t,l){const o={};l&4&&(o.tier=t[13]),e.$set(o)},i(t){n||(V(e.$$.fragment,t),n=!0)},o(t){O(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Qt(s){let e,n,t,l,o,i,f,r;const c=[Zt,Jt],a=[];function u(_,p){return _[1]?0:1}return l=u(s),o=a[l]=c[l](s),f=new Kt({}),{c(){e=k("h1"),n=M("Tierlist f\xFCr Season 4 der TFL"),t=A(),o.c(),i=A(),J(f.$$.fragment),this.h()},l(_){e=y(_,"H1",{class:!0});var p=T(e);n=U(p,"Tierlist f\xFCr Season 4 der TFL"),p.forEach(h),t=C(_),o.l(_),i=C(_),Z(f.$$.fragment,_),this.h()},h(){m(e,"class","svelte-1rptoyp")},m(_,p){S(_,e,p),v(e,n),S(_,t,p),a[l].m(_,p),S(_,i,p),Q(f,_,p),r=!0},p(_,[p]){let E=l;l=u(_),l===E?a[l].p(_,p):($(),O(a[E],1,1,()=>{a[E]=null}),H(),o=a[l],o?o.p(_,p):(o=a[l]=c[l](_),o.c()),V(o,1),o.m(i.parentNode,i))},i(_){r||(V(o),V(f.$$.fragment,_),r=!0)},o(_){O(o),O(f.$$.fragment,_),r=!1},d(_){_&&h(e),_&&h(t),a[l].d(_),_&&h(i),x(f,_)}}}const Ze=s=>s.pokemon;function xt(s,e,n){let t,l,o,i,f,r,c,a;j(s,ee,d=>n(7,f=d)),j(s,le,d=>n(8,r=d)),j(s,ve,d=>n(9,c=d)),j(s,Xt,d=>n(11,a=d));let{tierlist:u}=e,{teams:_}=e,p;re(ee,f="",f),xe(()=>{const d=a.url.searchParams.get("q");re(ee,f=d||"",f),window.addEventListener("popstate",()=>{re(ee,f=d||"",f)})});const E=(d,b)=>{var g,P,B,N,D,L,w,I,W,G;return[(g=d.form)==null?void 0:g.de,(P=d.form)==null?void 0:P.en,d.name.de,d.name.en,(B=Y[d.typing[0]])==null?void 0:B.de,(N=Y[d.typing[0]])==null?void 0:N.en,(L=Y[(D=d.typing)==null?void 0:D[1]])==null?void 0:L.de,(I=Y[(w=d.typing)==null?void 0:w[1]])==null?void 0:I.en,(W=d.team)==null?void 0:W.name,(G=d.team)==null?void 0:G.player].some(K=>K==null?void 0:K.toLowerCase().includes(b.toLowerCase()))},R=d=>p==null?void 0:p.pokemon.includes(d.id);return s.$$set=d=>{"tierlist"in d&&n(3,u=d.tierlist),"teams"in d&&n(4,_=d.teams)},s.$$.update=()=>{s.$$.dirty&528&&n(6,t=c.length>0?c:_),s.$$.dirty&192&&n(1,p=t!=null&&t.map(d=>d.name).includes(f)?t.find(d=>d.name===f):void 0),s.$$.dirty&72&&n(0,l=u==null?void 0:u.map(d=>({...d,pokemon:d.pokemon.map(b=>({...b,team:t.find(g=>g.pokemon.includes(b.id))}))}))),s.$$.dirty&257&&n(5,o=l==null?void 0:l.map(d=>({...d,pokemon:d.pokemon.sort((b,g)=>b.name[r].localeCompare(g.name[r]))}))),s.$$.dirty&160&&n(2,i=o==null?void 0:o.map(d=>({...d,pokemon:d.pokemon.filter(b=>E(b,f))})))},[l,p,i,u,_,o,t,f,r,c,R]}class il extends ne{constructor(e){super(),se(this,e,xt,Qt,oe,{tierlist:3,teams:4})}}export{il as default};
